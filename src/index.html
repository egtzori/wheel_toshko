<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>wheel</title>
  <meta name="author" content="bb">

  <style>
    * {
      margin: 0px;
      padding: 0px;
      overflow: hidden;
      border: none;
      background-color: transparent;
    }

    html, body {
      margin: 0;
      width: 100%;
      height: 100%;
    }

    div.centralwheel {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 80%;
      height: 80%;
      transform: translate(-50%, -50%);
      border: none;
      scale: 1.0;
      pointer-events: none;
    }

    .level {
      position: absolute;
      top: 40%;
      left: 35%;
      width: 30%;
      height: 20%;
      transform-origin: center center;
      transform: translate(-50%, -50%);
      border: 1px solid black;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: #c8c8c8;
      opacity: 0.7;
      /* transition: transform 0.01s ease-in-out; */
    }
  </style>

</head>

<body>
  <div id="centralwheel">
    <svg xmlns="http://www.w3.org/2000/svg" height="100%" width="100%" viewBox="0 0 100 100"><path d="M33.989 13.378l-7.406-3.937s-.172 4.639-.305 8.394a40.037 40.037 0 0 0-10.107 10.833l13.06 7.541c4.313-6.479 11.456-10.604 19.21-11.094V10.03a39.882 39.882 0 0 0-14.452 3.348z" fill="#a0c8d7"/><path d="M27.67 38.907l-13.061-7.541a39.994 39.994 0 0 0-4.352 14.202L3.167 50s3.911 2.456 7.092 4.445a39.962 39.962 0 0 0 4.351 14.188l13.061-7.541a24.928 24.928 0 0 1-2.606-11.093c0-3.853.897-7.656 2.605-11.092z" fill="#849b87"/><path d="M48.442 74.885c-7.754-.49-14.897-4.615-19.21-11.094l-13.06 7.541A40.05 40.05 0 0 0 26.29 82.173l.294 8.386s4.101-2.169 7.418-3.931a39.863 39.863 0 0 0 14.44 3.342V74.885z" fill="#abbd81"/><path d="M83.829 71.332l-13.06-7.541c-4.313 6.479-11.456 10.604-19.21 11.094v15.084a39.87 39.87 0 0 0 14.453-3.347l7.406 3.937s.172-4.639.305-8.394a40.065 40.065 0 0 0 10.106-10.833z" fill="#f8b26a"/><path d="M96.833 50s-3.911-2.456-7.092-4.445a39.962 39.962 0 0 0-4.351-14.188l-13.06 7.54A24.928 24.928 0 0 1 74.936 50c0 3.853-.897 7.657-2.606 11.093l13.061 7.541a39.996 39.996 0 0 0 4.352-14.201L96.833 50z" fill="#f47e60"/><path d="M73.71 17.828l-.294-8.387s-4.101 2.169-7.418 3.931a39.884 39.884 0 0 0-14.44-3.342v15.084c7.754.49 14.897 4.615 19.21 11.094l13.06-7.541A40.025 40.025 0 0 0 73.71 17.828z" fill="#e15b64"/><metadata xmlns:d="https://loading.io/stock/">
      <d:name>wheel</d:name>
      <d:tags>wheel,ring,cycle,composition,part,circle,infographics</d:tags>
      <d:license>by</d:license>
      <d:slug>61aoed</d:slug>
      </metadata>
    </svg>

    <div id="level" class="level">
      <p>This is centered text.</p>
    </div>

  </div>

  <script>
    window.addEventListener('DOMContentLoaded', (event) => {
      // Start the animation loop
      requestAnimationFrame(updateAngle);
      console.log('loaded');
    });

    const wheel = document.getElementById("centralwheel");
    const centerBlock = document.getElementById('center');
    const level = document.getElementById('level');


    let mouseX = window.innerWidth / 2;
    let mouseY = window.innerHeight / 2;
    let angle = 0;

    // Function to calculate angle between two points
    function calculateAngle(x1, y1, x2, y2) {
      const deltaX = x2 - x1;
      const deltaY = y2 - y1;
      const angleRadians = Math.atan2(deltaY, deltaX);
      return angleRadians * (180 / Math.PI);
    }

    // Function to update and render the angle
    function updateAngle() {
      const windowCenterX = window.innerWidth / 2;
      const windowCenterY = window.innerHeight / 2;
      angle = calculateAngle(windowCenterX, windowCenterY, mouseX, mouseY);

      centralwheel.style.transform = `rotate(${angle}deg)`;
      level.style.transform = `rotate(${360-angle}deg)`;

      requestAnimationFrame(updateAngle);
    }

    // Event listener to capture mouse movement
    window.addEventListener('mousemove', (event) => {
      mouseX = event.clientX;
      mouseY = event.clientY;
    });

  </script>
</body>

